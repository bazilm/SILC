START
MOV SP,1535
MOV BP,1535
PUSH R0
CALL main
HALT
swap:
PUSH BP
MOV BP,SP
MOV R0,SP
MOV R1,6
ADD R0,R1
MOV SP,R0
MOV R0,6
MOV R1,BP
MOV R2,1
ADD R1,R2
MOV R2,BP
MOV R3,-8
ADD R2,R3
MOV R2,[R2]
WHILEBEG2:
MOV R3,[R2]
MOV [R1],R3
INR R2
INR R1
DCR R0
JZ R0,WHILEEND2
JMP WHILEBEG2
WHILEEND2:
MOV R0,6
MOV R1,BP
MOV R2,-8
ADD R1,R2
MOV R1,[R1]
MOV R2,BP
MOV R3,-14
ADD R2,R3
MOV R2,[R2]
WHILEBEG3:
MOV R3,[R2]
MOV [R1],R3
INR R2
INR R1
DCR R0
JZ R0,WHILEEND3
JMP WHILEBEG3
WHILEEND3:
MOV R0,6
MOV R1,BP
MOV R2,-14
ADD R1,R2
MOV R1,[R1]
MOV R2,BP
MOV R3,1
ADD R2,R3
WHILEBEG4:
MOV R3,[R2]
MOV [R1],R3
INR R2
INR R1
DCR R0
JZ R0,WHILEEND4
JMP WHILEBEG4
WHILEEND4:
MOV R0,BP
MOV R1,-2
ADD R0,R1
MOV R1,0
MOV [R0],R1
MOV SP,BP
POP BP
RET
retu:
PUSH BP
MOV BP,SP
MOV R0,BP
MOV R1,-7
ADD R0,R1
MOV R1,6
MOV R2,BP
MOV R3,-13
ADD R2,R3
WHILEBEG5:
MOV R3,[R2]
MOV [R0],R3
INR R2
INR R0
DCR R1
JZ R1,WHILEEND5
JMP WHILEBEG5
WHILEEND5:
MOV SP,BP
POP BP
RET
main:
PUSH BP
MOV BP,SP
MOV R0,SP
MOV R1,6
ADD R0,R1
MOV SP,R0
MOV R0,SP
MOV R1,6
ADD R0,R1
MOV SP,R0
MOV R0,SP
MOV R1,4
ADD R0,R1
MOV SP,R0
MOV R0,SP
MOV R1,1
ADD R0,R1
MOV SP,R0
MOV R0,BP
MOV R1,7
ADD R0,R1
MOV R1,23
MOV [R0],R1
MOV R0,BP
MOV R1,1
ADD R0,R1
MOV R1,34
MOV [R0],R1
MOV R0,BP
MOV R1,1
ADD R0,R1
MOV R0,[R0]
OUT R0
MOV R0,6
MOV R1,BP
MOV R2,1
ADD R1,R2
PUSH R0
PUSH R1
MOV R2,6
MOV R3,BP
MOV R4,7
ADD R3,R4
WHILEBEG6:
MOV R3,[R3]
PUSH R3
INR R3
DCR R2
JZ R2,WHILEEND6
JMP WHILEBEG6
WHILEEND6:
MOV R2,SP
MOV R3,6
ADD R2,R3
MOV SP,R2
CALL retu
MOV R2,SP
MOV R3,5
SUB R2,R3
MOV SP,R2
MOV R3,SP
MOV R4,7
SUB R3,R4
MOV SP, R3
POP R1
POP R0
OUT R1
OUT R2
WHILEBEG7:
MOV R3,[R2]
MOV [R1],R3
INR R2
INR R1
DCR R0
JZ R0,WHILEEND7
JMP WHILEBEG7
WHILEEND7:
MOV R0,BP
MOV R1,1
ADD R0,R1
INR R0
MOV R0,[R0]
OUT R0
MOV R0,BP
MOV R1,-2
ADD R0,R1
MOV R1,0
MOV [R0],R1
MOV SP,BP
POP BP
RET
