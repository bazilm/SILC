START
MOV SP,1535
MOV BP,1535
MOV R0,100
IN R1
MOV [R0],R1
MOV R0,101
MOV R1,0
MOV [R0],R1
MOV R0,104
MOV R1,101
MOV R1,[R1]
MOV R2,100
MOV R2,[R2]
LT R1,R2
MOV [R0],R1
WHILEBEG1:
MOV R0,104
MOV R0,[R0]
JZ R0,WHILEEND1
MOV R0,101
MOV R0,[R0]
MOV R1,0
ADD R0,R1
IN R1
MOV [R0],R1
MOV R0,101
MOV R1,1
PUSH R1
MOV R1,101
MOV R1,[R1]
POP R2
ADD R1,R2
MOV [R0],R1
MOV R0,104
MOV R1,101
MOV R1,[R1]
MOV R2,100
MOV R2,[R2]
LT R1,R2
MOV [R0],R1
JMP WHILEBEG1
WHILEEND1:
MOV R0,101
MOV R1,0
MOV [R0],R1
MOV R0,103
MOV R1,0
MOV [R0],R1
WHILEBEG2:
MOV R0,101
MOV R0,[R0]
MOV R1,100
MOV R1,[R1]
LT R0,R1
JZ R0,WHILEEND2
MOV R0,103
MOV R1,1
PUSH R1
MOV R1,101
MOV R1,[R1]
POP R2
ADD R1,R2
MOV [R0],R1
WHILEBEG3:
MOV R0,103
MOV R0,[R0]
MOV R1,100
MOV R1,[R1]
LT R0,R1
JZ R0,WHILEEND3
MOV R0,101
MOV R0,[R0]
MOV R1,0
ADD R0,R1
MOV R0,[R0]
MOV R1,103
MOV R1,[R1]
MOV R2,0
ADD R1,R2
MOV R1,[R1]
GT R0,R1
JZ R0,ELSE1
MOV R0,102
MOV R1,103
MOV R1,[R1]
MOV R2,0
ADD R1,R2
MOV R1,[R1]
MOV [R0],R1
MOV R0,103
MOV R0,[R0]
MOV R1,0
ADD R0,R1
MOV R1,101
MOV R1,[R1]
MOV R2,0
ADD R1,R2
MOV R1,[R1]
MOV [R0],R1
MOV R0,101
MOV R0,[R0]
MOV R1,0
ADD R0,R1
MOV R1,102
MOV R1,[R1]
MOV [R0],R1
JMP ENDIF1
ELSE1:
ENDIF1:
MOV R0,103
MOV R1,1
PUSH R1
MOV R1,103
MOV R1,[R1]
POP R2
ADD R1,R2
MOV [R0],R1
JMP WHILEBEG3
WHILEEND3:
MOV R0,101
MOV R1,1
PUSH R1
MOV R1,101
MOV R1,[R1]
POP R2
ADD R1,R2
MOV [R0],R1
JMP WHILEBEG2
WHILEEND2:
MOV R0,101
MOV R1,0
MOV [R0],R1
WHILEBEG4:
MOV R0,101
MOV R0,[R0]
MOV R1,100
MOV R1,[R1]
LT R0,R1
JZ R0,WHILEEND4
MOV R0,101
MOV R0,[R0]
MOV R1,0
ADD R0,R1
MOV R0,[R0]
OUT R0
MOV R0,101
MOV R1,1
PUSH R1
MOV R1,101
MOV R1,[R1]
POP R2
ADD R1,R2
MOV [R0],R1
JMP WHILEBEG4
WHILEEND4:
HALT