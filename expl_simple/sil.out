START
MOV SP,1535
MOV BP,1535
MOV R0,100
IN R1
MOV [R0],R1
MOV R0,101
MOV R1,0
MOV [R0],R1
WHILEBEG1:
MOV R0,101
MOV R0,[R0]
MOV R1,100
MOV R1,[R1]
LT R0,R1
JZ R0,WHILEEND1
MOV R1,101
MOV R1,[R1]
MOV R2,0
ADD R1,R2
IN R2
MOV [R1],R2
MOV R1,101
MOV R2,1
PUSH R2
MOV R2,101
MOV R2,[R2]
POP R3
ADD R2,R3
MOV [R1],R2
JMP WHILEBEG1
WHILEEND1:
MOV R1,101
MOV R2,0
MOV [R1],R2
MOV R1,103
MOV R2,0
MOV [R1],R2
WHILEBEG2:
MOV R1,101
MOV R1,[R1]
MOV R2,100
MOV R2,[R2]
LT R1,R2
JZ R1,WHILEEND2
MOV R2,103
MOV R3,1
PUSH R3
MOV R3,101
MOV R3,[R3]
POP R4
ADD R3,R4
MOV [R2],R3
WHILEBEG3:
MOV R2,103
MOV R2,[R2]
MOV R3,100
MOV R3,[R3]
LT R2,R3
JZ R2,WHILEEND3
MOV R3,101
MOV R3,[R3]
MOV R4,0
ADD R3,R4
MOV R3,[R3]
MOV R4,103
MOV R4,[R4]
MOV R5,0
ADD R4,R5
MOV R4,[R4]
GT R3,R4
JZ R3,ELSE1
MOV R4,102
MOV R5,103
MOV R5,[R5]
MOV R6,0
ADD R5,R6
MOV R5,[R5]
MOV [R4],R5
MOV R4,103
MOV R4,[R4]
MOV R5,0
ADD R4,R5
MOV R5,101
MOV R5,[R5]
MOV R6,0
ADD R5,R6
MOV R5,[R5]
MOV [R4],R5
MOV R4,101
MOV R4,[R4]
MOV R5,0
ADD R4,R5
MOV R5,102
MOV R5,[R5]
MOV [R4],R5
JMP ENDIF1
ELSE1:
ENDIF1:
MOV R4,103
MOV R5,1
PUSH R5
MOV R5,103
MOV R5,[R5]
POP R6
ADD R5,R6
MOV [R4],R5
JMP WHILEBEG3
WHILEEND3:
MOV R4,101
MOV R5,1
PUSH R5
MOV R5,101
MOV R5,[R5]
POP R6
ADD R5,R6
MOV [R4],R5
JMP WHILEBEG2
WHILEEND2:
MOV R4,101
MOV R5,0
MOV [R4],R5
WHILEBEG4:
MOV R4,101
MOV R4,[R4]
MOV R5,100
MOV R5,[R5]
LT R4,R5
JZ R4,WHILEEND4
MOV R5,101
MOV R5,[R5]
MOV R6,0
ADD R5,R6
MOV R5,[R5]
OUT R5
MOV R5,101
MOV R6,1
PUSH R6
MOV R6,101
MOV R6,[R6]
POP R7
ADD R6,R7
MOV [R5],R6
JMP WHILEBEG4
WHILEEND4:
HALT